# 오프라인 코딩테스트 - 영화 예매

> 2019년 04월 16일 14:00 잠실 삼성생명 빌딩 우아한 형제들 교육장에서 열린 코딩테스트

## 기능 요구사항

### 1. 영화 기본 정보
* 영화 아이디
* 영화 제목
* 요금
* 상영 시작 시간
* 상영 시간별 예매 가능 인원

### 2. 영화는 한번에 여러 영화를 예매할 수 있어야 한다.
* 단, 일행이 **각자의 취향에 따라 다른 영화를 예매**한다고 가정한다.
* 따라서 여러 영화를 예매할 경우 **각 영화의 시작 시간 차이가 1시간 이상 차이가 날 수 없다**.

### 3. 예매가 가능한 상태이면 결제를 진행한다.

### 4. 예매가 불가능한 경우 그 이유를 보여주고, 다시 예매할 수 있도록 해야 한다.
* 상영 시작 시간이 **이미 지난 영화를 선택**하는 경우
* 예매 가능 **인원을 초과**하는 경우
* 두 영화의 **시간 차이**가 **1시간 이내가 아닌** 경우
* **상영 목록에 없는 영화**를 선택한 경우

### 5. 결제 유형에 따라 할인률이 달라지고, 포인트를 사용할 수 있다.
* **결제**할 때 적립되어 있는 **포인트를 사용**할 수 있다.
* 신용카드 5%, 현금 결제는 2% 할인된다. **할인은 포인트를 제외한 금액에 적용**한다.

## 프로그래밍 요구 사항

### 시작 및 힌트
* MoveRepository 는 데이터 조회하는 DB 역할, **기존 코드 수정 불가**, 조회용 메소드만 추가 가능
* 영화 상영 시간이 1시간 이내인지 판단 여부, DateTimeUtils 클래스에 isOneHourWithinRange() 사용하여 구현 가능

### 요구사항 - 객체 1
* Movie 객체, **기존 코드 수정 불가**
* 추가 기능 구현 가능

### 요구사항 - 객체 2
* PlaySchedule 객체, **기존 코드 수정 불가**
* 추가 기능 구현 가능

### 요구사항 - 제약사항1

## 구현해야 할 기능들
1. 상영 영화 목록을 보여주는 기능

2. 예약할 영화 선택을 입력받는 기능
    * 예외 1 - 예약이 불가능한 영화를 입력한 경우
    * 예외 2 - 숫자를 입력하지 않은 경우

3. 입력받은 영화에 대한 정보를 자세히 출력하는 기능

4. 선택한 영화에 예약할 시간표를 입력받는 기능
    * 예외 1 - 선택한 시간의 예약 가능 인원이 0인 경우
    * 예외 2 - 선택한 시간이 다른 영화 선택된 시간과의 차이가 1시간 이상인 경우

5. 예약할 인원을 입력받는 기능
    * 예외 1 - 입력한 값이 0인 경우

6. 4, 5번에 대하여 예매가 불가능한 경우 다시 입력을 받도록 하는 기능

7. 예약 내역을 확인하고 진행여부를 묻는 기능
    * 예외 1 - 1이나 2가 아닌 경우

8. 포인트 사용 금액을 입력받는 기능
    * 예외 1 - 유효한 포인트 입력이 아닌 경우, 문자, 기호 등등

9. 결제 수단 선택을 입력받는 기능
    * 예외 1 - 유효한 포인트 입력이 아닌 경우, 문자, 기호 등등

10. 최종 결제 결과를 출력하는 기능